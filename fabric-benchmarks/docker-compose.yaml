version: '3.7'

services:
  caliper:
    container_name: caliper
    image: hyperledger/caliper:0.6.0
    labels:
      service: hyperledger-caliper
    command: launch manager
    environment:
      - CALIPER_BIND_SUT=fabric:fabric-gateway
      - CALIPER_BENCHCONFIG=fabric-benchmarks/chaincode/medsky/config.yaml
      - CALIPER_NETWORKCONFIG=fabric-benchmarks/network.yaml
    volumes:
      - ../fabric-network:/hyperledger/caliper/workspace/fabric-network
      - ./:/hyperledger/caliper/workspace/fabric-benchmarks
    working_dir: /hyperledger/caliper/workspace/fabric-benchmarks